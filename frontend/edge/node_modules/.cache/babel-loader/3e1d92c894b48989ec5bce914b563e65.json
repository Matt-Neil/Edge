{"ast":null,"code":"var _jsxFileName = \"/Users/matt/Documents/GitHub/Edge/frontend/edge/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from 'react';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport { useHistory } from 'react-router-dom';\nimport \"./Styles/app.css\";\nimport { CurrentUserContext } from './Contexts/currentUserContext';\nimport { OpenItemsContext } from './Contexts/openItemsContext';\nimport ViewItems from \"./Pages/View-Items\";\nimport Home from \"./Pages/Home\";\nimport Account from \"./Pages/Account\";\nimport Workspace from \"./Pages/Workspace\";\nimport Dataset from \"./Pages/Dataset\";\nimport Search from \"./Pages/Search\";\nimport SignIn from \"./Pages/Sign-In\";\nimport Header from \"./Components/Header\";\nimport Sidebar from './Components/Sidebar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n\n  const [searchPhrase, setSearchPhrase] = useState(null);\n  const [sidebar, setSidebar] = useState({\n    type: \"home\"\n  });\n  const {\n    currentUser\n  } = useContext(CurrentUserContext);\n  const {\n    openItems\n  } = useContext(OpenItemsContext);\n  const history = useHistory();\n  useEffect(() => {\n    console.log(history.listen());\n  }, [history]);\n\n  const redirectPage = () => {\n    if (currentUser.loaded) {\n      if (currentUser.empty) {\n        return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/sign-in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 24\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: `/home`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 24\n        }, this);\n      }\n    }\n  };\n\n  const redirectSignin = () => {\n    if (currentUser.loaded) {\n      if (currentUser.empty) {\n        return /*#__PURE__*/_jsxDEV(SignIn, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 24\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: `/home`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 24\n        }, this);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        children: redirectPage()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/sign-in\",\n        children: redirectSignin()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), currentUser.loaded && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: currentUser.empty ? /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/sign-in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"whole-body\",\n            children: [/*#__PURE__*/_jsxDEV(Header, {\n              openItems: openItems\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"main-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"sidebar\",\n                children: /*#__PURE__*/_jsxDEV(Sidebar, {\n                  setSearchPhrase: setSearchPhrase,\n                  sidebar: sidebar\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"inner\",\n                children: /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Route, {\n                    exact: true,\n                    path: \"/home\",\n                    children: /*#__PURE__*/_jsxDEV(Home, {\n                      setSidebar: setSidebar\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 73,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 72,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(Route, {\n                    exact: true,\n                    path: \"/created-workspaces\",\n                    children: /*#__PURE__*/_jsxDEV(ViewItems, {\n                      type: \"created-workspaces\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 76,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 75,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(Route, {\n                    exact: true,\n                    path: \"/created-datasets\",\n                    children: /*#__PURE__*/_jsxDEV(ViewItems, {\n                      type: \"created-datasets\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 79,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(Route, {\n                    exact: true,\n                    path: \"/bookmarked\",\n                    children: /*#__PURE__*/_jsxDEV(ViewItems, {\n                      type: \"bookmarks\",\n                      currentUser: currentUser\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 82,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 81,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(Route, {\n                    exact: true,\n                    path: \"/public-workspaces\",\n                    children: /*#__PURE__*/_jsxDEV(ViewItems, {\n                      type: \"public-workspaces\",\n                      currentUser: currentUser\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 85,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 84,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(Route, {\n                    exact: true,\n                    path: \"/public-datasets\",\n                    children: /*#__PURE__*/_jsxDEV(ViewItems, {\n                      type: \"public-datasets\",\n                      currentUser: currentUser\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 88,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 87,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(Route, {\n                    path: \"/search-results/:id\",\n                    render: props => /*#__PURE__*/_jsxDEV(Search, {\n                      currentUser: currentUser,\n                      searchPhrase: searchPhrase\n                    }, props.location.key, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 90,\n                      columnNumber: 102\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 90,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(Route, {\n                    exact: true,\n                    path: \"/workspace/:id\",\n                    render: props => /*#__PURE__*/_jsxDEV(Workspace, {\n                      currentUser: currentUser,\n                      type: \"view\"\n                    }, props.location.key, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 91,\n                      columnNumber: 103\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 91,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(Route, {\n                    exact: true,\n                    path: \"/dataset/:id\",\n                    render: props => /*#__PURE__*/_jsxDEV(Dataset, {\n                      currentUser: currentUser,\n                      type: \"view\"\n                    }, props.location.key, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 92,\n                      columnNumber: 101\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(Route, {\n                    exact: true,\n                    path: \"/create-workspace\",\n                    render: props => /*#__PURE__*/_jsxDEV(Workspace, {\n                      currentUser: currentUser,\n                      type: \"create\"\n                    }, props.location.key, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 93,\n                      columnNumber: 106\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(Route, {\n                    exact: true,\n                    path: \"/create-dataset\",\n                    render: props => /*#__PURE__*/_jsxDEV(Dataset, {\n                      currentUser: currentUser,\n                      type: \"create\"\n                    }, props.location.key, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 94,\n                      columnNumber: 104\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 94,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(Route, {\n                    exact: true,\n                    path: \"/account\",\n                    children: /*#__PURE__*/_jsxDEV(Account, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 96,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 33\n          }, this)\n        }, void 0, false)\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n}\n\n_s(App, \"U76HG/ipz+WOrnPR8y3WVNUcjpg=\", false, function () {\n  return [useHistory];\n});\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/matt/Documents/GitHub/Edge/frontend/edge/src/App.js"],"names":["React","useState","useContext","useEffect","BrowserRouter","Router","Switch","Route","Redirect","useHistory","CurrentUserContext","OpenItemsContext","ViewItems","Home","Account","Workspace","Dataset","Search","SignIn","Header","Sidebar","App","searchPhrase","setSearchPhrase","sidebar","setSidebar","type","currentUser","openItems","history","console","log","listen","redirectPage","loaded","empty","redirectSignin","props","location","key"],"mappings":"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","sourcesContent":["import React, {useState, useContext, useEffect} from 'react';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport { useHistory } from 'react-router-dom'\nimport \"./Styles/app.css\";\n\nimport { CurrentUserContext } from './Contexts/currentUserContext';\nimport { OpenItemsContext } from './Contexts/openItemsContext';\nimport ViewItems from \"./Pages/View-Items\"\nimport Home from \"./Pages/Home\"\nimport Account from \"./Pages/Account\"\nimport Workspace from \"./Pages/Workspace\"\nimport Dataset from \"./Pages/Dataset\"\nimport Search from \"./Pages/Search\"\nimport SignIn from \"./Pages/Sign-In\"\nimport Header from \"./Components/Header\"\nimport Sidebar from './Components/Sidebar';\n\nexport default function App() {\n    const [searchPhrase, setSearchPhrase] = useState(null);\n    const [sidebar, setSidebar] = useState({type: \"home\"});\n    const {currentUser} = useContext(CurrentUserContext);\n    const {openItems} = useContext(OpenItemsContext);\n    const history = useHistory();\n\n    useEffect(() => {\n        console.log(history.listen())\n    }, [history])\n\n    const redirectPage = () => {\n        if (currentUser.loaded) {\n            if (currentUser.empty) {\n                return <Redirect to={\"/sign-in\"} />\n            } else {\n                return <Redirect to={`/home`} />\n            }\n        }\n    }\n\n    const redirectSignin = () => {\n        if (currentUser.loaded) {\n            if (currentUser.empty) {\n                return <SignIn />\n            } else {\n                return <Redirect to={`/home`} />\n            }\n        }\n    }\n\n    return (\n        <Router>\n            <Switch>\n                <Route exact path=\"/\">\n                    {redirectPage()}\n                </Route>\n                <Route exact path=\"/sign-in\">\n                    {redirectSignin()}\n                </Route>\n                {currentUser.loaded &&\n                    <>\n                        {currentUser.empty ?\n                            <Redirect to={\"/sign-in\"} />\n                        :\n                            <>\n                                <div className=\"whole-body\">\n                                    <Header openItems={openItems} />\n                                    <div className=\"main-body\">\n                                        <div className=\"sidebar\">\n                                            <Sidebar setSearchPhrase={setSearchPhrase} sidebar={sidebar} />\n                                        </div>\n                                        <div className=\"inner\">\n                                            <>\n                                                <Route exact path=\"/home\">\n                                                    <Home setSidebar={setSidebar} />\n                                                </Route>\n                                                <Route exact path=\"/created-workspaces\">\n                                                    <ViewItems type={\"created-workspaces\"} />\n                                                </Route>\n                                                <Route exact path=\"/created-datasets\">\n                                                    <ViewItems type={\"created-datasets\"} />\n                                                </Route>\n                                                <Route exact path=\"/bookmarked\">\n                                                    <ViewItems type={\"bookmarks\"} currentUser={currentUser} />\n                                                </Route>\n                                                <Route exact path=\"/public-workspaces\">\n                                                    <ViewItems type={\"public-workspaces\"} currentUser={currentUser} />\n                                                </Route>\n                                                <Route exact path=\"/public-datasets\">\n                                                    <ViewItems type={\"public-datasets\"} currentUser={currentUser} />\n                                                </Route>\n                                                <Route path=\"/search-results/:id\" render={(props) => <Search currentUser={currentUser} searchPhrase={searchPhrase} key={props.location.key} />} />\n                                                <Route exact path=\"/workspace/:id\" render={(props) => <Workspace currentUser={currentUser} type={\"view\"} key={props.location.key} />} />\n                                                <Route exact path=\"/dataset/:id\" render={(props) => <Dataset currentUser={currentUser} type={\"view\"} key={props.location.key} />} />\n                                                <Route exact path=\"/create-workspace\" render={(props) => <Workspace currentUser={currentUser} type={\"create\"} key={props.location.key} />} />\n                                                <Route exact path=\"/create-dataset\" render={(props) => <Dataset currentUser={currentUser} type={\"create\"} key={props.location.key} />} />\n                                                <Route exact path=\"/account\">\n                                                    <Account />\n                                                </Route>\n                                            </>\n                                        </div>\n                                    </div>\n                                    {/* <Route exact path=\"/404\">\n                                        <NotFound />\n                                    </Route> */}\n                                </div>\n                            </>\n                        }\n                    </>\n                }\n                {/* <Redirect to=\"/404\" /> */}\n            </Switch>\n        </Router>\n    );\n}"]},"metadata":{},"sourceType":"module"}