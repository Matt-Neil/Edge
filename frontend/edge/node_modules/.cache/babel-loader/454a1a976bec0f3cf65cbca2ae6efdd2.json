{"ast":null,"code":"var _jsxFileName = \"/Users/matt/Documents/GitHub/Edge/frontend/edge/src/Contexts/currentUserContext.js\",\n    _s = $RefreshSig$();\n\nimport React, { createContext, useEffect, useState } from 'react';\nimport authAPI from \"../API/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CurrentUserContext = /*#__PURE__*/createContext();\n\nconst CurrentUserContextProvider = props => {\n  _s();\n\n  // Intiialises the currently signed in user as not loaded yet\n  const [currentUser, setCurrentUser] = useState({\n    loaded: false\n  }); //Whenever a component is rendered this useEffect hook is executed once\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        // Fetches the currently signed in user in the Express JS server\n        const response = await authAPI.get(`/`); // Checks if there is a signed in user on the ExpressJS server\n\n        if (response.data.data) {\n          // Sets the currently signed in user to the response\n          setCurrentUser({\n            id: response.data.data._id,\n            name: response.data.data.name,\n            email: response.data.data.email,\n            password: response.data.data.password,\n            loaded: true,\n            empty: false\n          });\n        } else {\n          // Sets the current user to empty\n          setCurrentUser({\n            loaded: true,\n            empty: true\n          });\n        }\n      } catch (err) {}\n    };\n\n    fetchData();\n  }, []); // Function that changes the currently signed-in user's information\n\n  const changeCurrentUser = user => {\n    setCurrentUser(user);\n  };\n\n  return /*#__PURE__*/_jsxDEV(CurrentUserContext.Provider, {\n    value: {\n      currentUser,\n      changeCurrentUser\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CurrentUserContextProvider, \"+A1d1q6oJmUxLad/sU0lPN4nOVI=\");\n\n_c = CurrentUserContextProvider;\nexport default CurrentUserContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"CurrentUserContextProvider\");","map":{"version":3,"sources":["/Users/matt/Documents/GitHub/Edge/frontend/edge/src/Contexts/currentUserContext.js"],"names":["React","createContext","useEffect","useState","authAPI","CurrentUserContext","CurrentUserContextProvider","props","currentUser","setCurrentUser","loaded","fetchData","response","get","data","id","_id","name","email","password","empty","err","changeCurrentUser","user","children"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,aAAf,EAA8BC,SAA9B,EAAyCC,QAAzC,QAAwD,OAAxD;AACA,OAAOC,OAAP,MAAoB,aAApB;;AAEA,OAAO,MAAMC,kBAAkB,gBAAGJ,aAAa,EAAxC;;AAEP,MAAMK,0BAA0B,GAAIC,KAAD,IAAW;AAAA;;AAC1C;AACA,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCN,QAAQ,CAAC;AAACO,IAAAA,MAAM,EAAE;AAAT,GAAD,CAA9C,CAF0C,CAI1C;;AACAR,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMS,SAAS,GAAG,YAAY;AAC1B,UAAI;AACA;AACA,cAAMC,QAAQ,GAAG,MAAMR,OAAO,CAACS,GAAR,CAAa,GAAb,CAAvB,CAFA,CAIA;;AACA,YAAID,QAAQ,CAACE,IAAT,CAAcA,IAAlB,EAAwB;AACpB;AACAL,UAAAA,cAAc,CAAC;AACXM,YAAAA,EAAE,EAAEH,QAAQ,CAACE,IAAT,CAAcA,IAAd,CAAmBE,GADZ;AAEXC,YAAAA,IAAI,EAAEL,QAAQ,CAACE,IAAT,CAAcA,IAAd,CAAmBG,IAFd;AAGXC,YAAAA,KAAK,EAAEN,QAAQ,CAACE,IAAT,CAAcA,IAAd,CAAmBI,KAHf;AAIXC,YAAAA,QAAQ,EAAEP,QAAQ,CAACE,IAAT,CAAcA,IAAd,CAAmBK,QAJlB;AAKXT,YAAAA,MAAM,EAAE,IALG;AAMXU,YAAAA,KAAK,EAAE;AANI,WAAD,CAAd;AAQH,SAVD,MAUO;AACH;AACAX,UAAAA,cAAc,CAAC;AACXC,YAAAA,MAAM,EAAE,IADG;AAEXU,YAAAA,KAAK,EAAE;AAFI,WAAD,CAAd;AAIH;AACJ,OAtBD,CAsBE,OAAOC,GAAP,EAAY,CAAE;AACnB,KAxBD;;AAyBAV,IAAAA,SAAS;AACZ,GA3BQ,EA2BN,EA3BM,CAAT,CAL0C,CAkC1C;;AACA,QAAMW,iBAAiB,GAAIC,IAAD,IAAU;AAChCd,IAAAA,cAAc,CAACc,IAAD,CAAd;AACH,GAFD;;AAIA,sBACI,QAAC,kBAAD,CAAoB,QAApB;AAA6B,IAAA,KAAK,EAAE;AAACf,MAAAA,WAAD;AAAcc,MAAAA;AAAd,KAApC;AAAA,cACKf,KAAK,CAACiB;AADX;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH,CA5CD;;GAAMlB,0B;;KAAAA,0B;AA8CN,eAAeA,0BAAf","sourcesContent":["import React, {createContext, useEffect, useState} from 'react'\nimport authAPI from \"../API/auth\"\n\nexport const CurrentUserContext = createContext()\n\nconst CurrentUserContextProvider = (props) => {\n    // Intiialises the currently signed in user as not loaded yet\n    const [currentUser, setCurrentUser] = useState({loaded: false});\n\n    //Whenever a component is rendered this useEffect hook is executed once\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                // Fetches the currently signed in user in the Express JS server\n                const response = await authAPI.get(`/`);\n\n                // Checks if there is a signed in user on the ExpressJS server\n                if (response.data.data) {\n                    // Sets the currently signed in user to the response\n                    setCurrentUser({\n                        id: response.data.data._id,\n                        name: response.data.data.name,\n                        email: response.data.data.email,\n                        password: response.data.data.password,\n                        loaded: true,\n                        empty: false\n                    })\n                } else {\n                    // Sets the current user to empty\n                    setCurrentUser({\n                        loaded: true,\n                        empty: true\n                    })\n                }\n            } catch (err) {}\n        }\n        fetchData();\n    }, [])\n\n    // Function that changes the currently signed-in user's information\n    const changeCurrentUser = (user) => {\n        setCurrentUser(user);\n    }\n    \n    return (\n        <CurrentUserContext.Provider value={{currentUser, changeCurrentUser}}>\n            {props.children}\n        </CurrentUserContext.Provider>\n    )\n}\n\nexport default CurrentUserContextProvider"]},"metadata":{},"sourceType":"module"}